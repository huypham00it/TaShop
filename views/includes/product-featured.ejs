<%const getRandomProducts = (arr, n) => { %>
  <% var result = [] %>
    <%  var len = arr.length %>
  <% while (n--) { %>
      <% var x = Math.floor(Math.random() * len) %>
      <% result.push(arr[x]) %>
    <% } %>
  <% return result %>
<% } %>

<div class="product-featured">
    <h2 class="title">Sản Phẩm Của Ngày</h2>

    <div class="showcase-wrapper has-scrollbar">
      <div class="showcase-container">
        <% getRandomProducts(products, 1).forEach(prod => { %>
          <div class="showcase">
            <div class="showcase-banner">
              <img
                src="<%= prod.image %>"
                alt="<%= prod.name %>"
                class="showcase-img"
              />
            </div>
  
            <div class="showcase-content">
              <div class="showcase-rating">
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star-outline"></ion-icon>
                <ion-icon name="star-outline"></ion-icon>
              </div>
  
              <a href="<%= prod.link %>">
                <h3 class="showcase-title">
                  <%= prod.name %>
                </h3>
              </a>
  
              <p class="showcase-desc">
                Sản phẩm bán chạy trên thị trường
              </p>
  
              <div class="price-box">
                <p class="price"><%= prod.price + '.000 đ'%></p>
  
                <del><%= (prod.price * 100 / prod.discount).toFixed(0) + '.000đ' %></del>
              </div>
  
              <a href="<%= prod.link %>" target="_blank" class="add-cart-btn">add to cart</a>
  
              <div class="showcase-status">
                <div class="wrapper">
                  <p>already sold: <b>20</b></p>
  
                  <p>available: <b>40</b></p>
                </div>
  
                <div class="showcase-status-bar"></div>
              </div>
  
              <div class="countdown-box">
                <p class="countdown-desc">Hurry Up! Offer ends in:</p>
  
                <div class="countdown">
                  <div class="countdown-content">
                    <p class="display-number">360</p>
  
                    <p class="display-text">Days</p>
                  </div>
  
                  <div class="countdown-content">
                    <p class="display-number">24</p>
                    <p class="display-text">Hours</p>
                  </div>
  
                  <div class="countdown-content">
                    <p class="display-number">59</p>
                    <p class="display-text">Min</p>
                  </div>
  
                  <div class="countdown-content">
                    <p class="display-number">00</p>
                    <p class="display-text">Sec</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% }) %>
      </div>

      <div class="showcase-container">
        <% getRandomProducts(products, 1).forEach(prod => { %>
          <div class="showcase">
            <div class="showcase-banner">
              <img
                src="<%= prod.image %>"
                alt="<%= prod.name %>"
                class="showcase-img"
              />
            </div>
  
            <div class="showcase-content">
              <div class="showcase-rating">
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star-outline"></ion-icon>
                <ion-icon name="star-outline"></ion-icon>
              </div>
  
              <a href="<%= prod.link %>">
                <h3 class="showcase-title">
                  <%= prod.name %>
                </h3>
              </a>
  
              <p class="showcase-desc">
                Sản phẩm bán chạy trên thị trường
              </p>
  
              <div class="price-box">
                <p class="price"><%= prod.price + '.000 đ'%></p>
  
                <del><%= (prod.price * 100 / prod.discount).toFixed(0) + '.000đ' %></del>
              </div>
  
              <a href="<%= prod.link %>" target="_blank" class="add-cart-btn">add to cart</a>
  
              <div class="showcase-status">
                <div class="wrapper">
                  <p>already sold: <b>20</b></p>
  
                  <p>available: <b>40</b></p>
                </div>
  
                <div class="showcase-status-bar"></div>
              </div>
  
              <div class="countdown-box">
                <p class="countdown-desc">Hurry Up! Offer ends in:</p>
  
                <div class="countdown">
                  <div class="countdown-content">
                    <p class="display-number">360</p>
  
                    <p class="display-text">Days</p>
                  </div>
  
                  <div class="countdown-content">
                    <p class="display-number">24</p>
                    <p class="display-text">Hours</p>
                  </div>
  
                  <div class="countdown-content">
                    <p class="display-number">59</p>
                    <p class="display-text">Min</p>
                  </div>
  
                  <div class="countdown-content">
                    <p class="display-number">00</p>
                    <p class="display-text">Sec</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% }) %>
      </div>
    </div>
  </div>